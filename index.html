<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistema Distribuído RPC - Conversor de Texto</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
      <div class="container">
        <a class="navbar-brand" href="#">
          <i class="bi bi-diagram-3 me-2"></i>
          Sistema Distribuído RPC - Python
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#introducao">Introdução</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#servidor">Servidor</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#cliente">Cliente</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#execucao">Execução</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#documentacao">Documentação</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./pages/caso-de-uso.html"
                >Caso de Uso</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="bg-dark py-5">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-8">
            <h1 class="display-4 fw-bold">Sistema Distribuído RPC</h1>
            <p class="lead">
              Implementação em Python usando XML-RPC para conversão de texto em
              maiúsculas
            </p>
            <div class="d-flex flex-wrap gap-2 mt-4">
              <span class="badge badge-python">Python XML-RPC</span>
              <span class="badge bg-success">Sistema Distribuído</span>
              <span class="badge bg-info">Cliente-Servidor</span>
              <span class="badge bg-warning text-dark">Threading</span>
            </div>
          </div>
          <div class="col-lg-4 text-center">
            <i class="bi bi-file-code display-1" style="color: #3776ab"></i>
          </div>
        </div>
      </div>
    </header>

    <!-- Introdução -->
    <section id="introducao" class="py-5">
      <div class="container">
        <h2 class="section-title">
          <i class="bi bi-info-circle me-2"></i>
          Introdução ao Projeto
        </h2>
        <div class="row">
          <div class="col-md-6">
            <div class="card h-100 explanation-card">
              <div class="card-body">
                <h5 class="card-title">
                  <div class="icon-container">
                    <i class="bi bi-lightbulb"></i>
                  </div>
                  O que é XML-RPC?
                </h5>
                <p class="card-text">
                  XML-RPC é um protocolo de chamada de procedimento remoto que
                  usa XML para codificar suas chamadas e HTTP como protocolo de
                  transporte. É uma alternativa simples ao RMI do Java.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card h-100 use-case-card">
              <div class="card-body">
                <h5 class="card-title">
                  <div class="icon-container">
                    <i class="bi bi-gear"></i>
                  </div>
                  Caso de Uso
                </h5>
                <p class="card-text">
                  Este projeto implementa um serviço remoto simples que converte
                  strings para maiúsculas. O cliente envia uma string para o
                  servidor, que processa a requisição e retorna o resultado.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Servidor -->
    <section id="servidor" class="py-5 bg-darker">
      <div class="container">
        <h2 class="section-title">
          <i class="bi bi-server me-2"></i>
          servidor.py
        </h2>
        <div class="row">
          <div class="col-lg-8">
            <div class="code-container mb-4">
              <pre><code><span class="keyword">from</span> xmlrpc.server <span class="keyword">import</span> SimpleXMLRPCServer
<span class="keyword">import</span> threading
<span class="keyword">import</span> time

<span class="keyword">class</span> <span class="class-name">ServidorRPC</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(<span class="python-builtin">self</span>):
        <span class="python-builtin">self</span>.servidor = <span class="python-builtin">None</span>
    
    <span class="keyword">def</span> <span class="function">converter_para_maiuscula</span>(<span class="python-builtin">self</span>, palavra):
        <span class="string">"""Converte uma string para maiúsculas"""</span>
        <span class="keyword">print</span>(<span class="string">f"[Servidor] Recebeu: </span>{palavra}<span class="string">"</span>)
        resultado = palavra.upper()
        <span class="keyword">print</span>(<span class="string">f"[Servidor] Enviando: </span>{resultado}<span class="string">"</span>)
        <span class="keyword">return</span> resultado
    
    <span class="keyword">def</span> <span class="function">iniciar_servidor</span>(<span class="python-builtin">self</span>):
        <span class="string">"""Inicia o servidor RPC em uma thread separada"""</span>
        <span class="keyword">try</span>:
            <span class="comment"># Cria o servidor RPC na porta 8000</span>
            <span class="python-builtin">self</span>.servidor = SimpleXMLRPCServer((<span class="string">"localhost"</span>, <span class="number">8000</span>))
            <span class="python-builtin">self</span>.servidor.register_instance(<span class="python-builtin">self</span>)
            
            <span class="keyword">print</span>(<span class="string">"[Servidor] Servidor RPC iniciado na porta 8000"</span>)
            <span class="keyword">print</span>(<span class="string">"[Servidor] Aguardando chamadas do cliente..."</span>)
            
            <span class="comment"># Inicia o servidor</span>
            <span class="python-builtin">self</span>.servidor.serve_forever()
            
        <span class="keyword">except</span> <span class="class-name">Exception</span> <span class="keyword">as</span> e:
            <span class="keyword">print</span>(<span class="string">f"[Servidor] Erro: </span>{e}<span class="string">"</span>)

<span class="keyword">def</span> <span class="function">main</span>():
    <span class="comment"># Cria e inicia o servidor</span>
    servidor = ServidorRPC()
    
    <span class="comment"># Inicia o servidor em uma thread separada</span>
    thread_servidor = threading.Thread(target=servidor.iniciar_servidor)
    thread_servidor.daemon = <span class="python-builtin">True</span>
    thread_servidor.start()
    
    <span class="keyword">return</span> servidor

<span class="keyword">if</span> <span class="python-builtin">__name__</span> == <span class="string">"__main__"</span>:
    main()</code></pre>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="card mb-4">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-journal-text me-2"></i>
                  Explicação
                </h5>
                <p class="card-text">
                  O servidor implementa um serviço RPC usando
                  <code>SimpleXMLRPCServer</code> do Python. Ele registra o
                  método <code>converter_para_maiuscula</code> e fica escutando
                  na porta 8000.
                </p>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-lightning me-2"></i>
                  Pontos Importantes
                </h5>
                <ul>
                  <li>
                    Usa <code>SimpleXMLRPCServer</code> para criar o servidor
                    RPC
                  </li>
                  <li>Registra métodos com <code>register_instance</code></li>
                  <li>Executa em thread separada</li>
                  <li>Escuta na porta 8000</li>
                  <li>Métodos são automaticamente expostos via RPC</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Cliente -->
    <section id="cliente" class="py-5">
      <div class="container">
        <h2 class="section-title">
          <i class="bi bi-laptop me-2"></i>
          cliente.py
        </h2>
        <div class="row">
          <div class="col-lg-8">
            <div class="code-container mb-4">
              <pre><code><span class="keyword">import</span> xmlrpc.client
<span class="keyword">import</span> threading

<span class="keyword">class</span> <span class="class-name">ClienteRPC</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(<span class="python-builtin">self</span>):
        <span class="python-builtin">self</span>.servidor = <span class="python-builtin">None</span>
    
    <span class="keyword">def</span> <span class="function">conectar</span>(<span class="python-builtin">self</span>):
        <span class="string">"""Conecta ao servidor RPC"""</span>
        <span class="keyword">try</span>:
            <span class="keyword">print</span>(<span class="string">"[Cliente] Conectando ao servidor..."</span>)
            <span class="python-builtin">self</span>.servidor = xmlrpc.client.ServerProxy(<span class="string">"http://localhost:8000"</span>)
            
            <span class="comment"># Testa a conexão</span>
            <span class="python-builtin">self</span>.servidor._()  <span class="comment"># Chamada vazia para testar</span>
            <span class="keyword">print</span>(<span class="string">"[Cliente] Conectado com sucesso!"</span>)
            <span class="keyword">return</span> <span class="python-builtin">True</span>
            
        <span class="keyword">except</span> <span class="class-name">Exception</span> <span class="keyword">as</span> e:
            <span class="keyword">print</span>(<span class="string">f"[Cliente] Erro ao conectar: </span>{e}<span class="string">"</span>)
            <span class="keyword">return</span> <span class="python-builtin">False</span>
    
    <span class="keyword">def</span> <span class="function">executar</span>(<span class="python-builtin">self</span>):
        <span class="string">"""Executa a interação com o usuário"""</span>
        <span class="keyword">if</span> <span class="keyword">not</span> <span class="python-builtin">self</span>.conectar():
            <span class="keyword">return</span>
        
        <span class="keyword">try</span>:
            <span class="comment"># Obtém entrada do usuário</span>
            palavra = <span class="python-builtin">input</span>(<span class="string">"[Cliente] Digite uma palavra para converter: "</span>)
            
            <span class="comment"># Chama o método remoto</span>
            resultado = <span class="python-builtin">self</span>.servidor.converter_para_maiuscula(palavra)
            
            <span class="comment"># Exibe o resultado</span>
            <span class="keyword">print</span>(<span class="string">"\n--- RESULTADO DA CONVERSÃO ---"</span>)
            <span class="keyword">print</span>(resultado)
            <span class="keyword">print</span>(<span class="string">"--------------------------------\n"</span>)
            
        <span class="keyword">except</span> <span class="class-name">Exception</span> <span class="keyword">as</span> e:
            <span class="keyword">print</span>(<span class="string">f"[Cliente] Erro durante a execução: </span>{e}<span class="string">"</span>)

<span class="keyword">def</span> <span class="function">main</span>():
    cliente = ClienteRPC()
    cliente.executar()

<span class="keyword">if</span> <span class="python-builtin">__name__</span> == <span class="string">"__main__"</span>:
    main()</code></pre>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="card mb-4">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-journal-text me-2"></i>
                  Explicação
                </h5>
                <p class="card-text">
                  O cliente usa <code>xmlrpc.client.ServerProxy</code> para
                  conectar ao servidor RPC. Ele permite que o usuário digite uma
                  palavra, chama o método remoto e exibe o resultado.
                </p>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-lightning me-2"></i>
                  Pontos Importantes
                </h5>
                <ul>
                  <li>
                    Usa <code>ServerProxy</code> para conectar ao servidor
                  </li>
                  <li>Chama métodos remotos como se fossem locais</li>
                  <li>Trata erros de conexão</li>
                  <li>Interage com o usuário via console</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Execução -->
    <section id="execucao" class="py-5 bg-darker">
      <div class="container">
        <h2 class="section-title">
          <i class="bi bi-terminal me-2"></i>
          Simulação de Execução
        </h2>
        <div class="row">
          <div class="col-lg-8">
            <div class="output-container mb-4">
              <div class="console-line console-main">
                [Sistema] Iniciando servidor RPC...
              </div>
              <div class="console-line console-server">
                [Servidor] Servidor RPC iniciado na porta 8000
              </div>
              <div class="console-line console-server">
                [Servidor] Aguardando chamadas do cliente...
              </div>
              <div class="console-line console-main">
                [Sistema] Servidor iniciado. Iniciando cliente...
              </div>
              <div class="console-line console-client">
                [Cliente] Conectando ao servidor...
              </div>
              <div class="console-line console-client">
                [Cliente] Conectado com sucesso!
              </div>
              <div class="console-line console-input">
                [Cliente] Digite uma palavra para converter: python rpc
              </div>
              <div class="console-line console-server">
                [Servidor] Recebeu: python rpc
              </div>
              <div class="console-line console-server">
                [Servidor] Enviando: PYTHON RPC
              </div>
              <div class="console-line console-output">
                --- RESULTADO DA CONVERSÃO ---
              </div>
              <div class="console-line console-output">PYTHON RPC</div>
              <div class="console-line console-output">
                --------------------------------
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="card mb-4">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-play-circle me-2"></i>
                  Como Executar
                </h5>
                <p class="card-text">Para executar este sistema:</p>
                <ol>
                  <li>Execute o servidor em um terminal:</li>
                  <div class="code-container small mt-2 mb-3">
                    <code>python servidor.py</code>
                  </div>
                  <li>Em outro terminal, execute o cliente:</li>
                  <div class="code-container small mt-2">
                    <code>python cliente.py</code>
                  </div>
                </ol>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-diagram-3 me-2"></i>
                  Fluxo de Comunicação
                </h5>
                <ul>
                  <li>Servidor escuta na porta 8000</li>
                  <li>Cliente conecta via HTTP/XML-RPC</li>
                  <li>Métodos são chamados remotamente</li>
                  <li>Respostas são serializadas em XML</li>
                  <li>Resultado é exibido no cliente</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Sistema Completo -->
    <section id="sistema-completo" class="py-5">
      <div class="container">
        <h2 class="section-title">
          <i class="bi bi-gear me-2"></i>
          Sistema Completo (testador.py)
        </h2>
        <div class="row">
          <div class="col-lg-8">
            <div class="code-container mb-4">
              <pre><code><span class="keyword">import</span> threading
<span class="keyword">import</span> time
<span class="keyword">from</span> servidor <span class="keyword">import</span> ServidorRPC
<span class="keyword">from</span> cliente <span class="keyword">import</span> ClienteRPC

<span class="keyword">class</span> <span class="class-name">TestadorSistema</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(<span class="python-builtin">self</span>):
        <span class="python-builtin">self</span>.servidor = <span class="python-builtin">None</span>
        <span class="python-builtin">self</span>.cliente = <span class="python-builtin">None</span>
    
    <span class="keyword">def</span> <span class="function">testar_sistema</span>(<span class="python-builtin">self</span>, palavra_teste):
        <span class="string">"""Testa todo o sistema com uma palavra específica"""</span>
        <span class="keyword">print</span>(<span class="string">"[Testador] Iniciando teste do sistema RPC..."</span>)
        
        <span class="comment"># Inicia o servidor</span>
        <span class="python-builtin">self</span>.servidor = ServidorRPC()
        thread_servidor = threading.Thread(target=<span class="python-builtin">self</span>.servidor.iniciar_servidor)
        thread_servidor.daemon = <span class="python-builtin">True</span>
        thread_servidor.start()
        
        <span class="comment"># Aguarda o servidor iniciar</span>
        time.sleep(<span class="number">2</span>)
        
        <span class="comment"># Executa o cliente</span>
        <span class="python-builtin">self</span>.cliente = ClienteRPC()
        
        <span class="comment"># Simula a entrada do usuário</span>
        <span class="keyword">print</span>(<span class="string">f"[Testador] Testando com a palavra: '</span>{palavra_teste}<span class="string">'"</span>)
        resultado = <span class="python-builtin">self</span>.cliente.testar_conversao(palavra_teste)
        
        <span class="keyword">print</span>(<span class="string">f"[Testador] Teste concluído! Resultado: </span>{resultado}<span class="string">"</span>)
        
        <span class="keyword">return</span> resultado

<span class="keyword">if</span> <span class="python-builtin">__name__</span> == <span class="string">"__main__"</span>:
    testador = TestadorSistema()
    testador.testar_sistema(<span class="string">"sistemas distribuídos"</span>)</code></pre>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="card mb-4">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-journal-text me-2"></i>
                  Explicação
                </h5>
                <p class="card-text">
                  O testador automatiza a execução completa do sistema,
                  iniciando servidor e cliente em sequência e testando com uma
                  palavra pré-definida.
                </p>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-lightning me-2"></i>
                  Vantagens do Python
                </h5>
                <ul>
                  <li>Código mais conciso e legível</li>
                  <li>Não precisa de interface separada (RMI)</li>
                  <li>Serialização automática com XML</li>
                  <li>Fácil deploy e execução</li>
                  <li>Ampla compatibilidade</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Documentação -->
    <section id="documentacao" class="py-5 bg-darker">
      <div class="container">
        <h2 class="section-title">
          <i class="bi bi-file-text me-2"></i>
          Documentação Técnica
        </h2>
        <div class="row">
          <div class="col-lg-6">
            <div class="card mb-4">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-question-circle me-2"></i>
                  O que é RPC?
                </h5>
                <p class="card-text">
                  RPC (Remote Procedure Call) é um protocolo que permite a um
                  programa executar procedimentos em outro espaço de
                  endereçamento (geralmente em outra máquina) como se fossem
                  chamadas locais.
                </p>
              </div>
            </div>
            <div class="card mb-4">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-diagram-3 me-2"></i>
                  XML-RPC vs Java RMI
                </h5>
                <p class="card-text">
                  <strong>XML-RPC (Python):</strong>
                </p>
                <ul>
                  <li>Baseado em HTTP/XML</li>
                  <li>Linguagem-agnóstico</li>
                  <li>Mais simples de implementar</li>
                  <li>Menos performático</li>
                </ul>
                <p class="card-text mt-2">
                  <strong>Java RMI:</strong>
                </p>
                <ul>
                  <li>Protocolo próprio do Java</li>
                  <li>Mais performático</li>
                  <li>Mais complexo de configurar</li>
                  <li>Apenas para Java</li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="card mb-4">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-gear me-2"></i>
                  Como o XML-RPC funciona?
                </h5>
                <p class="card-text">
                  O XML-RPC permite chamadas de procedimento remoto usando XML
                  sobre HTTP:
                </p>
                <ol>
                  <li>Cliente serializa a chamada em XML</li>
                  <li>Envia via POST HTTP para o servidor</li>
                  <li>Servidor desserializa e executa o método</li>
                  <li>Resultado é serializado em XML e retornado</li>
                  <li>Cliente desserializa e usa o resultado</li>
                </ol>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-lightbulb me-2"></i>
                  Casos de Uso do RPC
                </h5>
                <p class="card-text">RPC é útil em diversos cenários:</p>
                <ul>
                  <li>Microserviços e arquiteturas distribuídas</li>
                  <li>Integração entre sistemas heterogêneos</li>
                  <li>APIs remotas para aplicações</li>
                  <li>Sistemas com processamento distribuído</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark py-4 mt-5">
      <div class="container text-center">
        <p class="mb-0">Sistema Distribuído RPC - Implementação em Python</p>
        <p class="text-muted">
          Desenvolvido para a disciplina de Sistemas Distribuídos
        </p>
      </div>
    </footer>
    <script src="./js/scripts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
